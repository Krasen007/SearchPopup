<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow DOM Popup Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .dark-section {
            background-color: #333;
            color: white;
        }
        .aggressive-styles {
            background: red !important;
            color: yellow !important;
            font-size: 24px !important;
            font-weight: bold !important;
        }
        /* Aggressive global styles that should NOT affect the popup */
        * {
            box-sizing: border-box;
        }
        div {
            border: 2px solid blue;
        }
    </style>
</head>
<body>
    <h1>Shadow DOM Popup Test Page</h1>
    
    <div class="test-section">
        <h2>Test 1: Basic Text Selection</h2>
        <p>Select this text to test the popup: <strong>Hello World</strong></p>
    </div>

    <div class="test-section">
        <h2>Test 2: Unit Conversion</h2>
        <p>Select these values to test conversions:</p>
        <ul>
            <li>100 kg (should convert to pounds)</li>
            <li>50 mph (should convert to km/h)</li>
            <li>32°F (should convert to Celsius)</li>
            <li>€100 (should convert to BGN)</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>Test 3: URL Detection</h2>
        <p>Select this URL: <code>google.com</code></p>
        <p>Or this one: <code>https://example.com</code></p>
    </div>

    <div class="test-section dark-section">
        <h2>Test 4: Dark Theme Detection</h2>
        <p>Select text in this dark section to test theme detection.</p>
    </div>

    <div class="test-section aggressive-styles">
        <h2>Test 5: Style Isolation</h2>
        <p>This section has aggressive CSS styles. The popup should NOT be affected by them when you select this text.</p>
    </div>

    <script src="js/content.js"></script>
</body>
</html>
</script>
</body>
</html>